<div class="header">
  <div class="logo">
    <mat-icon>store</mat-icon>
    <h1 >{{ title }}</h1>
  </div>
  <div class="navigation">
    <a mat-button title="Ir al Catálogo de Productos" routerLink="/store">
      <mat-icon>storefront</mat-icon>
    </a>
    <ng-container *ngIf="cartHasItems$ | async">
      <a mat-button title="Ir al Carrito" [routerLink]="['/store', 'cart']">
        <mat-icon>shopping_cart</mat-icon>
        <span class="cart-summary">
          <span>{{ itemQuantityLabel$ | async }}</span>
          <span>${{ cartSubtotalValue$ | async }}</span>
        </span>
      </a>
    </ng-container>
  </div>
  <div class="middle">
    <span>Tienda On-line</span>
  </div>
  <ng-container *ngIf="(isLoggedIn$ | async); else notLoggedIn">
    <mat-menu #headerMenu>
      <span mat-menu-item disabled>{{ userName$ | async }}</span>
      <button mat-menu-item class="edit-profile"
        (click)="onClickEditProfile()">
        <mat-icon>edit</mat-icon>
        Editar Perfil
      </button>
      <button mat-menu-item class="logout"
        (click)="onClickLogout()">
        <mat-icon>exit_to_app</mat-icon>
        Cerrar Sesión
      </button>
    </mat-menu>
    <button mat-button class="open-menu action" title="Menú de usuario"
      [matMenuTriggerFor]="headerMenu">
      <mat-icon>person</mat-icon>
    </button>
  </ng-container>
  <ng-template #notLoggedIn>
    <button mat-button class="login action" title="Aún no has iniciado sesión"
      (click)="onClickLogIn()">
      <mat-icon>person_outline</mat-icon>
    </button>
  </ng-template>
</div>
