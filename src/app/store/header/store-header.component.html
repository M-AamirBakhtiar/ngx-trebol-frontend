<!--
 Copyright (c) 2020 Benjamin La Madrid

 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<div class="header">
  <app-store-header-brand></app-store-header-brand>
  <app-store-header-navigation></app-store-header-navigation>
  <app-store-header-middle></app-store-header-middle>
  <ng-container *ngIf="(isLoggedIn$ | async); else notLoggedIn">
    <mat-menu #headerMenu>
      <span mat-menu-item disabled>{{ userName$ | async }}</span>
      <button mat-menu-item type="button"
        *ngIf="canNavigateManagement$ | async"
        class="edit-profile"
        [routerLink]="['/management']">
        <mat-icon>tune</mat-icon>
        Administrar
      </button>
      <button mat-menu-item type="button"
        class="edit-profile"
        (click)="onClickEditProfile()">
        <mat-icon>edit</mat-icon>
        Editar Perfil
      </button>
      <button mat-menu-item type="button"
        class="logout"
        (click)="onClickLogout()">
        <mat-icon>exit_to_app</mat-icon>
        Terminar Sesión
      </button>
    </mat-menu>
    <button mat-button type="button"
      class="open-menu action" title="Menú de usuario"
      [matMenuTriggerFor]="headerMenu">
      <mat-icon>person</mat-icon>
    </button>
  </ng-container>
  <ng-template #notLoggedIn>
    <button mat-button type="button"
      class="login action" title="Aún no has iniciado sesión"
      (click)="onClickLogIn()">
      <mat-icon>person_outline</mat-icon>
    </button>
  </ng-template>
</div>
