<!--
 Copyright (c) 2020 Benjamin
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<div class="dialog">
  <h5>Ingresar</h5>
  <centered-mat-spinner *ngIf="loggingIn$ | async">
  </centered-mat-spinner>

  <div [hidden]="loggingIn$ | async">
    <form [formGroup]="formGroup" (submit)="onSubmit()">
      <mat-form-field>
        <input matInput placeholder="Nombre de Usuario" formControlName="username" />
      </mat-form-field>

      <div class="password-form-group">
        <mat-form-field>
          <input matInput [type]="passwordInputType$ | async" placeholder="ContraseÃ±a" formControlName="password" />
        </mat-form-field>
        <button mat-icon-button type="button"
          title="Mantenga presionado para ver..."
          (mousedown)="showPassword()"
          (mouseup)="hidePassword()"
          (mouseleave)="hidePassword()">
          <mat-icon>{{ togglePasswordIcon$ | async }}</mat-icon>
        </button>
      </div>

      <div class="actions">
        <button mat-button mat-raised-button type="submit"
          color="primary"
          [disabled]="formGroup.invalid">
          Aceptar
        </button>
        <button mat-button mat-raised-button type="reset"
          [disabled]="formGroup.pristine">
          Limpiar
        </button>
        <button mat-button mat-raised-button type="button"
          color="warn"
          (click)="onCancel()">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
